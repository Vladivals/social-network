"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[895],{4895:function(s,e,t){t.r(e),t.d(e,{default:function(){return w}});var r=t(5671),i=t(3144),o=t(136),n=t(2882),u=t(1413),a=t(2791),l=t(8687),c="MyPosts_postsBlock__lB-pf",d="MyPosts_posts__GSiZ2",f="Post_item__Yu4oG",p="Post_like__+fQP+",h=t(4353),j=t(184),x=function(s){return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("img",{src:h}),s.message,";"]}),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("img",{src:"data:image/png;base64,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"}),s.likesCount]})})]})},m=t(6139),v=t(704),A=t(5304),g=t(2781),b=(0,A.D)(10),P=(0,v.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(m.Z,{component:g.gx,name:"newPostBody",validate:[A.C,b]})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})),R=a.render=function(s){var e=s.posts.map((function(e){return(0,j.jsx)(x,{message:e.message,likesCount:e.likesCount,profile:s.profile})}));return(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)("h3",{children:"My Posts"}),(0,j.jsx)("div",{children:(0,j.jsx)("div",{children:(0,j.jsx)(P,{onSubmit:function(e){s.addPost(e.newPostBody)}})})}),(0,j.jsx)("div",{className:d,children:e})]})},k=t(6070),Z=(0,l.$j)((function(s){return{posts:s.profileReducer.posts,newPostText:s.profileReducer.newPostText,profile:s.profileReducer.profile}}),(function(s){return{addPost:function(e){s((0,k.Wl)(e))}}}))(R),S=t(885),F=t(6740),C="ProfileInfo_descriptionBlock__XBXuJ",U="ProfileInfo_mainPhoto__QU8TO",q="ProfileInfo_contact__sQB8W",y="ProfileInfo_status__YrBI5",N=function(s){var e=(0,a.useState)(!1),t=(0,S.Z)(e,2),r=t[0],i=t[1],o=(0,a.useState)(s.status),n=(0,S.Z)(o,2),u=n[0],l=n[1];(0,a.useEffect)((function(){l(s.status)}),[s.status]);return(0,j.jsxs)("div",{className:y,children:[!r&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status: "}),(0,j.jsx)("span",{onDoubleClick:function(){i(!0)},children:s.status})]}),r&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),s.updateStatus(u)},onChange:function(s){l(s.currentTarget.value)},value:u})})]})},I=t(9234),E=(0,v.Z)({form:"edit-profile"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"save"})}),s.error&&(0,j.jsx)("div",{className:I.Z.formSummaryError,children:s.error}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),": ",(0,g.Gr)("Full name","fullName",[],g.II)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job"}),": ",(0,g.Gr)("","lookingForAJob",[],g.II,{type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills"}),": ",(0,g.Gr)("My professional skills","lookingForAJobDescription",[],g.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me"}),":",(0,g.Gr)("About me","aboutMe",[],g.gx)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts"}),":",Object.keys(s.profile.contacts).map((function(s){return(0,j.jsx)("div",{className:q,children:(0,j.jsxs)("b",{children:[s,": ",(0,g.Gr)(s,"contacts."+s,[],g.II)]})},s)}))]})]})})),T=function(s){var e=s.profile,t=s.isOwner,r=s.goToEditMode;return(0,j.jsxs)("div",{children:[t&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:r,children:"edit"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),":",e.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills"}),":",e.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me"}),":",e.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts"}),":",Object.keys(e.contacts).map((function(s){return(0,j.jsx)(O,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},O=function(s){var e=s.contactTitle,t=s.contactValue;return(0,j.jsxs)("div",{className:q,children:[(0,j.jsx)("b",{children:e}),": ",t]})},Q=function(s){var e=(0,a.useState)(!1),t=(0,S.Z)(e,2),r=t[0],i=t[1];if(!s.profile)return(0,j.jsx)(F.Z,{});return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("img",{className:U,src:s.profile.photos.large||h}),s.isOwner&&(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])}}),r?(0,j.jsx)(E,{initialValues:s.profile,profile:s.profile,onSubmit:function(e){s.saveProfile(e).then((function(){return i(!1)}))}}):(0,j.jsx)(T,{goToEditMode:function(){i(!0)},profile:s.profile,isOwner:s.isOwner}),(0,j.jsx)(N,{status:s.status,updateStatus:s.updateStatus})]})})},W=function(s){return(0,j.jsxs)("div",{children:[(0,j.jsx)(Q,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,j.jsx)(Z,{})]})},B=t(6871),M=(t(1548),t(7781));var H=function(s){(0,o.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.router.params.userId;!s&&this.props.isAuth&&(s=this.props.authorisedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{children:(0,j.jsx)(W,(0,u.Z)((0,u.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),t}(a.Component),w=(0,M.qC)((0,l.$j)((function(s){return{profile:s.profileReducer.profile,status:s.profileReducer.status,authorisedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:k.et,getStatus:k.lR,updateStatus:k.Nf,savePhoto:k.Ju,saveProfile:k.Ii}),(function(s){return function(e){var t=(0,B.TH)(),r=(0,B.s0)(),i=(0,B.UO)();return(0,j.jsx)(s,(0,u.Z)((0,u.Z)({},e),{},{router:{location:t,navigate:r,params:i}}))}}))(H)},1548:function(s,e,t){t.d(e,{F:function(){return p}});var r=t(1413),i=t(5671),o=t(3144),n=t(136),u=t(2882),a=t(2791),l=t(8687),c=t(6871),d=t(184),f=function(s){return{isAuth:s.auth.isAuth}},p=function(s){var e=function(e){(0,n.Z)(a,e);var t=(0,u.Z)(a);function a(){return(0,i.Z)(this,a),t.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,l.$j)(f)(e)}}}]);
//# sourceMappingURL=895.4cee0358.chunk.js.map
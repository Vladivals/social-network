{"version":3,"file":"static/js/934.a8ce561d.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://my-app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from \"react\";\nimport s from \"./Post.module.css\";\n\nconst Post = (props) => {\n\n\n\n\n\n  return (\n    <div>\n      <div className={s.item}>\n        <img src=\"https://tse3.mm.bing.net/th?id=OIP.dQqhbTIZRbyncab04A69JAHaFj&pid=Api&P=0&w=234&h=175\"></img>\n        {props.message};\n      </div>\n      <div>\n        <span>like{props.likeQuantity}</span>\n        \n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React, { Component } from \"react\";\nimport s from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { maxLengthCreator, required } from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\n\n\nconst maxLength10 = maxLengthCreator(10);\n\n\nconst addPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          component={Textarea}\n          name=\"newPostBody\"\n          validate={[required, maxLength10 ]}\n        />\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddMessageFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(addPostForm)\n\n\nconst MyPosts = React.render = (props) => {\n\n\n  \n  \n\n  console.log(\"render yo\")\n  let postsElements = props.posts.map((p) => (\n    <Post message={p.message} likesCount={p.likesCount} />\n  ));\n\nlet newPostElement = React.createRef();\n\nlet addNewMessage = (values) => {\n  props.addPost(values.newPostBody);\n};\n\n  return (\n    <div className={s.postsBlock}>\n      <h3>My Posts</h3>\n      <div>\n        <div>\n        <AddMessageFormRedux onSubmit={addNewMessage} />\n                </div>\n      </div>\n      <div className={s.posts}>{postsElements}</div>\n    </div>\n  );\n};\n\n\n\n\nexport default MyPosts;\n","import {\n  addPostActionCreator,\n  updateNewPostTextActionCreator,\n} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profileReducer.posts,\n    newPostText: state.profileReducer.newPostText,\n  };\n};\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    \n    addPost: (newPostBody) => {\n      dispatch(addPostActionCreator(newPostBody));\n    },\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\"};","import React from \"react\";\nimport s from \"./ProfileInfo.module.css\";\n\nclass ProfileStatus extends React.Component {\n\n\n  state = {\n    editMode: false,\n    status: this.props.status, \n  };\n\n  activateEditMode = () => {\n\n      this.setState( {\n        editMode: true\n      });\n    \n  };\n\n  deactivateEditMode = () => {\n\n    this.setState( {\n      editMode: false\n    });\n    this.props.updateStatus(this.state.status);\n\n};\n\nonStatusChange = (e) => {\nthis.setState({\n    status: e.currentTarget.value,\n})}\n\ncomponentDidUpdate(prevProps, prevState) {\n    if (prevProps.status !== this.props.status) {\n        this.setState({\n            status: this.props.status\n        })\n    }\n    console.log(\"componentDidUpdate\")\n}\n\n  render() {\n      console.log(\"render\")\n    return (\n      <div>\n        {!this.state.editMode && (\n          <div>\n            <span onDoubleClick={this.activateEditMode}>\n              {this.props.status}\n            </span>\n          </div>\n        )}\n        {this.state.editMode && (\n          <div>\n            <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}></input>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ProfileStatus;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport s from \"./ProfileInfo.module.css\";\n\nconst ProfileStatusWithHooks = (props) => {\n\n  let [editMode,setEditMode] = useState(false);\n  let [status,setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateMode = () => {\n    setEditMode(true)\n  }\n\n  const deactivateEditMode = () => {\n\n    setEditMode(false);\n\n    props.updateStatus(status);\n\n};\n\nconst onStatusChange = (e) => {\n  setStatus(e.currentTarget.value)\n  }\n\n  return (\n    <div>\n      { !editMode &&\n        <div>\n          <span onDoubleClick={activateMode}>{props.status}</span>\n        </div>\n      }\n      { editMode && (\n        <div>\n          <input\n            autoFocus={true}\n            onBlur={deactivateEditMode}\n            onChange={onStatusChange}\n            value={status}\n          ></input>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport s from \"./ProfileInfo.module.css\";\nimport ProfileStatus from \"./ProfileStatus\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\n\nconst ProfileInfo = (props) => {\n  if (!props.profile) {\n    return <Preloader />;\n  }\n  return (\n    <div>\n      {/* <div>\n        <img src=\"https://tse2.mm.bing.net/th?id=OIP.RWn0ky8PW3yOXOek2SjdaAHaEX&pid=Api&P=0&w=314&h=185\" />\n      </div> */}\n\n      <div className={s.descriptionBlock}>\n        <img src={props.profile.photos.large} />\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport MyPosts from \"./MyPosts/MyPosts\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport s from \"./Profile.module.css\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n\n\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\n\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Profile from \"./Profile\";\n\nimport { getUserProfile, getStatus, updateStatus } from \"../../redux/profile-reducer\";\nimport {  useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { withAuthRedirectComponent } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\n\nfunction withRouter(Component) {\n  function ComponentWithRouterProp(props) {\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n    return <Component {...props} router={{ location, navigate, params }} />;\n  }\n\n  return ComponentWithRouterProp;\n}\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.router.params.userId;\n    if (!userId && this.props.isAuth) {\n      userId = this.props.authorisedUserId;\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId)\n\n  }\n\n  render() {\n\n\n    return (\n      <div>\n        <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} />\n      </div>\n    );\n  }\n}\n\n\nlet mapStateToProps = (state) => ({\n  profile: state.profileReducer.profile,\n  status: state.profileReducer.status,\n  authorisedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth,\n\n});\n\n\n\nexport default compose(\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus }),\n  withRouter,\n  \n  )(ProfileContainer);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport const withAuthRedirectComponent = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Navigate to=\"/login\" />;\n      return <Component {...this.props} />;\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\n    RedirectComponent\n  );\n\n  return ConnectedAuthRedirectComponent;\n};\n"],"names":["props","className","s","src","message","likeQuantity","maxLength10","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","React","console","log","postsElements","posts","map","p","likesCount","values","addPost","newPostBody","connect","state","profileReducer","newPostText","dispatch","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","profile","photos","large","Preloader","ProfileContainer","userId","this","router","params","isAuth","authorisedUserId","getUserProfile","getStatus","compose","auth","Component","location","useLocation","navigate","useNavigate","useParams","mapStateToPropsForRedirect","withAuthRedirectComponent","RedirectComponent","to"],"sourceRoot":""}
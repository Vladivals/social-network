"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[657],{308:function(e,s,a){a.d(s,{Z:function(){return r}});a(2791);var n="Avatar_avatar__Uauly",i=a(184),r=function(e){var s=e.avatar;return(0,i.jsx)("div",{className:n,style:{background:'url("'.concat(s,'") center center/contain no-repeat, rgba(243, 244, 246, 1)')}})}},4657:function(e,s,a){a.r(s),a.d(s,{default:function(){return P}});var n=a(2807),i=a(2791),r="Dialogs_dialogs__oe96H",t="Dialogs_dialogsContent__TnLwX",o="Dialogs_dialogsItems__zeEWD",l="Dialogs_dialogsItemsHeader__0SItC",d="Dialogs_dialog__htSTl",c="Dialogs_dialogMine__5PxtI",u="Dialogs_active__t8cjl",g="Dialogs_messages__Cg2l+",m="Dialogs_messagesContent__WH1Y7",_="Dialogs_messagesContentMessages__++CGe",f="Dialogs_addMessageForm__8nO+b",h="Dialogs_addMessageFormFooter__s2DdB",v=a(3504),j=a(4353),p=a(308),x=a(184),D=function(e){var s="/dialogs/"+e.id;return(0,x.jsxs)("div",{className:d+" "+u,children:[(0,x.jsx)(p.Z,{avatar:j}),(0,x.jsx)(v.OL,{to:s,children:e.name})]})},N=function(e){var s=e.message,a=e.isOwner,n=e.profileAvatar;return(0,x.jsxs)("div",{className:"".concat(d," ").concat(a&&c),children:[(0,x.jsx)(p.Z,{avatar:a&&n}),(0,x.jsx)("span",{children:s})]})},C=a(6139),Z=a(704),b=a(5304),y=a(2781),A=a(9894),M=(0,b.D)(5),w=(0,Z.Z)({form:"dialogAddMessageForm"})((function(e){return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,className:f,children:[(0,x.jsx)("div",{children:(0,x.jsx)(C.Z,{component:y.gx,validate:[b.C,M],placeholder:"Enter your message",name:"newMessageBody"})}),(0,x.jsx)("div",{className:h,children:(0,x.jsx)(A.Z,{label:"Send"})})]})})),F=function(e){var s=e.dialogsPage,a=s.dialogs.map((function(e){return(0,x.jsx)(D,{name:e.name,id:e.id})})),n=s.messages.map((function(s){var a,n;return(0,x.jsx)(N,{message:s.message,isOwner:!0,profileAvatar:null===(a=e.profile)||void 0===a||null===(n=a.photos)||void 0===n?void 0:n.small})}));return(0,i.useEffect)((function(){e.getUserProfile(e.authorisedUserId)}),[]),(0,x.jsxs)("div",{className:r,children:[(0,x.jsxs)("div",{className:o,children:[(0,x.jsx)("div",{className:l,children:"Dialogs"}),(0,x.jsx)("div",{className:t,children:a})]}),(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("div",{className:l,children:"Username"}),(0,x.jsxs)("div",{className:m,children:[(0,x.jsx)("div",{className:_,children:n}),(0,x.jsx)(w,{onSubmit:function(s){e.sendMessage(s.newMessageBody)}})]})]})]})},I=a(8687),k=a(1548),S=a(7781),U=a(6070),P=(0,S.qC)((0,I.$j)((function(e){return{dialogsPage:e.dialogsReducer,isAuth:e.auth.isAuth,profile:e.profileReducer.profile,authorisedUserId:e.auth.userId}}),(function(e){return{sendMessage:function(s){e((0,n.X)(s))},getUserProfile:function(s){e((0,U.et)(s))}}})),k.F)(F)},1548:function(e,s,a){a.d(s,{F:function(){return m}});var n=a(1413),i=a(5671),r=a(3144),t=a(136),o=a(2882),l=a(2791),d=a(8687),c=a(6871),u=a(184),g=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,t.Z)(l,s);var a=(0,o.Z)(l);function l(){return(0,i.Z)(this,l),a.apply(this,arguments)}return(0,r.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,u.jsx)(e,(0,n.Z)({},this.props)):(0,u.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,d.$j)(g)(s)}}}]);
//# sourceMappingURL=657.c747bd4f.chunk.js.map